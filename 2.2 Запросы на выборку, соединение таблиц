/*Задание
Вывести название, жанр и цену тех книг, количество которых больше 8, в отсортированном по убыванию цены виде.
*/
SELECT title, name_genre, price
FROM 
book INNER JOIN genre
ON book.genre_id=genre.genre_id
WHERE amount>8
ORDER BY price DESC;

/*Задание
Вывести все жанры, которые не представлены в книгах на складе.
*/

SELECT name_genre
FROM genre LEFT JOIN book
--USING (genre_id)
ON genre.genre_id=book.genre_id
WHERE title IS NULL;

/*Задание
Есть список городов, хранящийся в таблице city:

city_id	name_city
1	Москва
2	Санкт-Петербург
3	Владивосток
Необходимо в каждом городе провести выставку книг каждого автора в течение 2020 года. Дату проведения выставки выбрать случайным образом. Создать запрос, который выведет город, автора и дату проведения выставки. Последний столбец назвать Дата. Информацию вывести, отсортировав сначала в алфавитном порядке по названиям городов, а потом по убыванию дат проведения выставок.
*/
SELECT name_city, name_author, DATE_ADD('2020-01-01', INTERVAL (RAND() * 365) DAY) AS Дата
FROM city, author
ORDER BY name_city, Дата DESC;